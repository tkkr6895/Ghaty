
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Western Ghats LULC Analysis Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1976D2 0%, #1565C0 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .stats-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f5f5f5;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1976D2;
            margin: 10px 0;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .controls {
            padding: 30px;
            background: white;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }
        
        .control-group select {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 8px;
            transition: border-color 0.3s;
        }
        
        .control-group select:focus {
            outline: none;
            border-color: #1976D2;
        }
        
        .content {
            padding: 30px;
        }
        
        .year-details {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 5px solid #1976D2;
        }
        
        .year-details h2 {
            color: #1976D2;
            margin-bottom: 20px;
        }
        
        .lulc-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .lulc-table thead {
            background: linear-gradient(135deg, #1976D2 0%, #1565C0 100%);
            color: white;
        }
        
        .lulc-table th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }
        
        .lulc-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .lulc-table tbody tr:hover {
            background: #f5f5f5;
        }
        
        .lulc-table tbody tr:last-child td {
            border-bottom: none;
        }
        
        .color-indicator {
            width: 30px;
            height: 20px;
            border-radius: 4px;
            display: inline-block;
            margin-right: 10px;
            border: 1px solid #999;
        }
        
        .chart-container {
            margin: 30px 0;
            padding: 25px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
        }
        
        .chart-container h3 {
            margin-bottom: 20px;
            color: #333;
            border-bottom: 2px solid #1976D2;
            padding-bottom: 10px;
        }
        
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 25px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .footer {
            background: #333;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 0.9rem;
        }
        
        .data-source {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #1976D2;
        }
        
        .data-source strong {
            color: #1976D2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Western Ghats Land Use Land Cover Analysis</h1>
            <div class="subtitle">LULC Analysis Dashboard (1987-2023)</div>
        </div>
        
        <div class="stats-summary">
            <div class="stat-card">
                <div class="stat-label">Temporal Coverage</div>
                <div class="stat-value">13</div>
                <div class="stat-label">Years Analyzed</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Study Period</div>
                <div class="stat-value">1987-2023</div>
                <div class="stat-label">36 Years</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Total Area</div>
                <div class="stat-value">108,169</div>
                <div class="stat-label">km²</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Tree Cover (2023)</div>
                <div class="stat-value">85.5K</div>
                <div class="stat-label">km² (-2.3%)</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Built Area (2023)</div>
                <div class="stat-value">3,027</div>
                <div class="stat-label">km² (+1359%)</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Data Status</div>
                <div class="stat-value">Verified</div>
                <div class="stat-label">From Satellite Observations</div>
            </div>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label for="year-select">Select Year to View Detailed Statistics:</label>
                <select id="year-select" onchange="updateYearDetails()">
                    <option value="0">1987 - GLC-FCS30D</option><option value="1">1992 - GLC-FCS30D</option><option value="2">1997 - GLC-FCS30D</option><option value="3">2000 - GLC-FCS30D</option><option value="4">2005 - GLC-FCS30D</option><option value="5">2010 - GLC-FCS30D</option><option value="6">2015 - GLC-FCS30D</option><option value="7">2018 - Dynamic World</option><option value="8">2019 - Dynamic World</option><option value="9">2020 - GLC-FCS30D</option><option value="10">2021 - Dynamic World</option><option value="11">2022 - Dynamic World</option><option value="12">2023 - Dynamic World</option>
                </select>
            </div>
        </div>
        
        <div class="content">
            <div id="year-details" class="year-details">
                <!-- Will be populated by JavaScript -->
            </div>
            
            <div class="chart-container">
                <h3>Land Cover Trends Over Time</h3>
                <canvas id="trendsChart" height="100"></canvas>
            </div>
            
            <div class="chart-container">
                <h3>Built Area Expansion</h3>
                <canvas id="builtChart" height="100"></canvas>
            </div>
            
            <div class="chart-container">
                <h3>Tree Cover Trends</h3>
                <canvas id="forestChart" height="100"></canvas>
            </div>
            
            <div class="data-source">
                <strong>Data Sources:</strong><br>
                GLC-FCS30D (1987-2020): Global Land Cover at 30m resolution, 
                  <a href="https://samapriya.github.io/awesome-gee-community-datasets/projects/glc30/" target="_blank">More info</a><br>
                Dynamic World (2018-2023): Near real-time 10m resolution land cover, 
                  <a href="https://dynamicworld.app/" target="_blank">More info</a><br>
                All data processed via Google Earth Engine<br>
                Study area: Western Ghats Priority Conservation Area (CEPF Boundary)
            </div>
            
            <div class="legend">
                <h3 style="grid-column: 1 / -1; margin-bottom: 10px;">Land Cover Classes Legend</h3>
                <div class="legend-item"><span class="color-indicator" style="background-color: #419BDF;"></span>Water</div><div class="legend-item"><span class="color-indicator" style="background-color: #397D49;"></span>Trees</div><div class="legend-item"><span class="color-indicator" style="background-color: #88B053;"></span>Grass</div><div class="legend-item"><span class="color-indicator" style="background-color: #7A87C6;"></span>Flooded vegetation</div><div class="legend-item"><span class="color-indicator" style="background-color: #E49635;"></span>Crops</div><div class="legend-item"><span class="color-indicator" style="background-color: #DFC35A;"></span>Shrub and scrub</div><div class="legend-item"><span class="color-indicator" style="background-color: #C4281B;"></span>Built</div><div class="legend-item"><span class="color-indicator" style="background-color: #A59B8F;"></span>Bare</div><div class="legend-item"><span class="color-indicator" style="background-color: #B39FE1;"></span>Snow and ice</div>
            </div>
        </div>
        
        <div class="footer">
            Generated on October 25, 2025 at 18:16:15<br>
            Western Ghats LULC Analysis - Data from GLC-FCS30D and Dynamic World satellite observations
        </div>
    </div>
    
    <script>
        // Data from Python
        const lulcData = [{"year": 1987, "period": "1985-1989", "dataset": "GLC-FCS30D", "Water": 1146.4825032431788, "Trees": 87503.6587776122, "Grass": 758.9613305953121, "Flooded vegetation": 720.01023869889, "Crops": 14343.151455225889, "Shrub and scrub": 4403.49763600797, "Built": 207.5485340903732, "Bare": 0.5910834463402841, "Snow and ice": 0.0, "total_area_km2": 109083.90155892016, "Water_percent": 1.0510098070006435, "Trees_percent": 80.21683999847431, "Grass_percent": 0.6957592456347645, "Flooded vegetation_percent": 0.6600517843689212, "Crops_percent": 13.14873345218463, "Shrub and scrub_percent": 4.036798806311014, "Built_percent": 0.1902650447263923, "Bare_percent": 0.0005418612993238, "Snow and ice_percent": 0.0, "total_computed": 109083.90155892016}, {"year": 1992, "period": "1990-1994", "dataset": "GLC-FCS30D", "Water": 1137.1998067795153, "Trees": 87502.82574821715, "Grass": 758.9740971649533, "Flooded vegetation": 728.8922673618551, "Crops": 14343.861168626274, "Shrub and scrub": 4403.935761310574, "Built": 207.62162601273653, "Bare": 0.5910834463402842, "Snow and ice": 0.0, "total_area_km2": 109083.9015589194, "Water_percent": 1.0425001219499657, "Trees_percent": 80.21607633914188, "Grass_percent": 0.6957709490753861, "Flooded vegetation_percent": 0.6681941670083731, "Crops_percent": 13.149384064594294, "Shrub and scrub_percent": 4.037200446971435, "Built_percent": 0.1903320499593554, "Bare_percent": 0.0005418612993238, "Snow and ice_percent": 0.0, "total_computed": 109083.9015589194}, {"year": 1997, "period": "1995-1999", "dataset": "GLC-FCS30D", "Water": 1191.4408780552203, "Trees": 87535.08717527751, "Grass": 744.2710895462994, "Flooded vegetation": 855.2252386755636, "Crops": 14177.610928480275, "Shrub and scrub": 4347.916069402445, "Built": 231.84153674812663, "Bare": 0.5086427347491096, "Snow and ice": 0.0, "total_area_km2": 109083.9015589202, "Water_percent": 1.0922242980204369, "Trees_percent": 80.24565121370968, "Grass_percent": 0.6822923262827114, "Flooded vegetation_percent": 0.7840068300212247, "Crops_percent": 12.99697822122949, "Shrub and scrub_percent": 3.985845763917765, "Built_percent": 0.212535061026306, "Bare_percent": 0.0004662857923855, "Snow and ice_percent": 0.0, "total_computed": 109083.90155892019}, {"year": 2000, "period": "2000", "dataset": "GLC-FCS30D", "Water": 1151.3355850675434, "Trees": 87519.99977884212, "Grass": 642.0896478836304, "Flooded vegetation": 964.2120132429126, "Crops": 15139.192181774706, "Shrub and scrub": 3016.8837084998745, "Built": 620.1243405340481, "Bare": 30.064303075300863, "Snow and ice": 0.0, "total_area_km2": 109083.90155892012, "Water_percent": 1.0554587511207283, "Trees_percent": 80.23182021186639, "Grass_percent": 0.5886199876494285, "Flooded vegetation_percent": 0.8839177912261482, "Crops_percent": 13.878484327586582, "Shrub and scrub_percent": 2.765654386564407, "Built_percent": 0.5684838291185401, "Bare_percent": 0.0275607148677773, "Snow and ice_percent": 0.0, "total_computed": 109083.90155892014}, {"year": 2005, "period": "2005", "dataset": "GLC-FCS30D", "Water": 1153.612708759831, "Trees": 87452.83320973764, "Grass": 640.4344684545922, "Flooded vegetation": 1061.888452742548, "Crops": 15077.68816578658, "Shrub and scrub": 3007.4565342920323, "Built": 657.9196861248572, "Bare": 32.068333021981275, "Snow and ice": 0.0, "total_area_km2": 109083.90155892006, "Water_percent": 1.0575462485972087, "Trees_percent": 80.17024690164871, "Grass_percent": 0.5871026423717262, "Flooded vegetation_percent": 0.9734602792594328, "Crops_percent": 13.82210202450688, "Shrub and scrub_percent": 2.757012255073769, "Built_percent": 0.6031317882130313, "Bare_percent": 0.0293978603292439, "Snow and ice_percent": 0.0, "total_computed": 109083.90155892007}, {"year": 2010, "period": "2010", "dataset": "GLC-FCS30D", "Water": 1392.6756932298515, "Trees": 87491.64044378645, "Grass": 660.5451754052199, "Flooded vegetation": 836.1325086597984, "Crops": 14947.2870398845, "Shrub and scrub": 2993.148454623856, "Built": 737.6805958835868, "Bare": 24.791647446882656, "Snow and ice": 0.0, "total_area_km2": 109083.90155892014, "Water_percent": 1.276701395281152, "Trees_percent": 80.20582248474956, "Grass_percent": 0.6055386413259483, "Flooded vegetation_percent": 0.7665040365357423, "Crops_percent": 13.702559980228552, "Shrub and scrub_percent": 2.743895672824966, "Built_percent": 0.67625065233401, "Bare_percent": 0.0227271367200702, "Snow and ice_percent": 0.0, "total_computed": 109083.90155892013}, {"year": 2015, "period": "2015", "dataset": "GLC-FCS30D", "Water": 1317.522920864075, "Trees": 87554.92461804945, "Grass": 663.0017361162041, "Flooded vegetation": 949.3149916906228, "Crops": 14731.582657671086, "Shrub and scrub": 3006.292963898943, "Built": 831.8624994555373, "Bare": 29.39917117426088, "Snow and ice": 0.0, "total_area_km2": 109083.9015589202, "Water_percent": 1.207806928460872, "Trees_percent": 80.26383670440853, "Grass_percent": 0.6077906333026535, "Flooded vegetation_percent": 0.8702613109028404, "Crops_percent": 13.50481826111988, "Shrub and scrub_percent": 2.7559455803614936, "Built_percent": 0.7625896099858677, "Bare_percent": 0.0269509714578565, "Snow and ice_percent": 0.0, "total_computed": 109083.90155892019}, {"year": 2018, "period": "2018", "dataset": "Dynamic World", "Water": 2479.41764666617, "Trees": 81707.76385837253, "Grass": 558.2925299541249, "Flooded vegetation": 1508.6757758492615, "Crops": 5319.503395884936, "Shrub and scrub": 12709.73990977927, "Built": 2100.922106994831, "Bare": 37.95532179482351, "Snow and ice": 6.530862721862793, "total_area_km2": 106428.8014080178, "Water_percent": 2.3296491305589235, "Trees_percent": 76.77222967599548, "Grass_percent": 0.5245690288419108, "Flooded vegetation_percent": 1.4175446457067828, "Crops_percent": 4.998180309756069, "Shrub and scrub_percent": 11.942011693858822, "Built_percent": 1.9740165060588184, "Bare_percent": 0.0356626414022211, "Snow and ice_percent": 0.006136367820986, "total_computed": 106428.80140801781}, {"year": 2019, "period": "2019", "dataset": "Dynamic World", "Water": 2504.835173254915, "Trees": 82594.07385507012, "Grass": 603.6389662978996, "Flooded vegetation": 1144.5967429895818, "Crops": 5598.385575989525, "Shrub and scrub": 12818.875026973348, "Built": 2382.5191632521164, "Bare": 70.64546700600107, "Snow and ice": 2.063075115539551, "total_area_km2": 107719.63304594904, "Water_percent": 2.3253283569824723, "Trees_percent": 76.67504197664569, "Grass_percent": 0.5603797090920376, "Flooded vegetation_percent": 1.062570221067631, "Crops_percent": 5.197182182751653, "Shrub and scrub_percent": 11.900221588672986, "Built_percent": 2.2117780165810865, "Bare_percent": 0.0655827215600209, "Snow and ice_percent": 0.0019152266464364, "total_computed": 107719.63304594906}, {"year": 2020, "period": "2020", "dataset": "GLC-FCS30D", "Water": 1474.3282507827792, "Trees": 87728.88726660678, "Grass": 710.0451711848208, "Flooded vegetation": 826.5161436779117, "Crops": 14419.57144063008, "Shrub and scrub": 2992.826336781768, "Built": 911.1113995178104, "Bare": 20.615549738140032, "Snow and ice": 0.0, "total_area_km2": 109083.90155892009, "Water_percent": 1.351554381272696, "Trees_percent": 80.42331270964056, "Grass_percent": 0.6509165523395771, "Flooded vegetation_percent": 0.7576884690281095, "Crops_percent": 13.218789605578564, "Shrub and scrub_percent": 2.7436003791679893, "Built_percent": 0.8352391017346283, "Bare_percent": 0.0188988012378754, "Snow and ice_percent": 0.0, "total_computed": 109083.9015589201}, {"year": 2021, "period": "2021", "dataset": "Dynamic World", "Water": 2681.193300916816, "Trees": 82257.73156075134, "Grass": 939.3161495884189, "Flooded vegetation": 1334.439806283112, "Crops": 4289.051262186634, "Shrub and scrub": 11833.121512370024, "Built": 2645.333232800626, "Bare": 45.26635655871415, "Snow and ice": 13.537226132887415, "total_area_km2": 106038.99040758856, "Water_percent": 2.528497574911784, "Trees_percent": 77.57309952176294, "Grass_percent": 0.8858214756458088, "Flooded vegetation_percent": 1.2584425796151433, "Crops_percent": 4.044786965342224, "Shrub and scrub_percent": 11.159217441514985, "Built_percent": 2.494679761314773, "Bare_percent": 0.0426884077118436, "Snow and ice_percent": 0.0127662721805003, "total_computed": 106038.99040758857}, {"year": 2022, "period": "2022", "dataset": "Dynamic World", "Water": 2767.3733818769083, "Trees": 83920.86297237751, "Grass": 793.8137407008321, "Flooded vegetation": 907.0519447886012, "Crops": 4072.4802932547777, "Shrub and scrub": 10191.568106789504, "Built": 3033.086924552651, "Bare": 40.57137356565443, "Snow and ice": 14.954326979675294, "total_area_km2": 105741.76306488612, "Water_percent": 2.6171053911582414, "Trees_percent": 79.36397175530477, "Grass_percent": 0.7507097647064251, "Flooded vegetation_percent": 0.8577991500217456, "Crops_percent": 3.851345178305557, "Shrub and scrub_percent": 9.638167372465382, "Built_percent": 2.868390725329087, "Bare_percent": 0.0383683536094993, "Snow and ice_percent": 0.0141423090992902, "total_computed": 105741.76306488612}, {"year": 2023, "period": "2023", "dataset": "Dynamic World", "Water": 2707.4415984966854, "Trees": 85517.46787556802, "Grass": 780.0087545104776, "Flooded vegetation": 870.4509153276059, "Crops": 4796.6507305501855, "Shrub and scrub": 9841.054418070891, "Built": 3027.440491329341, "Bare": 51.71550159397979, "Snow and ice": 2.8394596757407995, "total_area_km2": 107595.06974512294, "Water_percent": 2.516324962575163, "Trees_percent": 79.4808424569513, "Grass_percent": 0.7249484166497636, "Flooded vegetation_percent": 0.8090063210048355, "Crops_percent": 4.458058107971632, "Shrub and scrub_percent": 9.146380444181055, "Built_percent": 2.813735330532252, "Bare_percent": 0.0480649361689957, "Snow and ice_percent": 0.0026390239650079, "total_computed": 107595.06974512294}];
        const colors = {"Water": "#419BDF", "Trees": "#397D49", "Grass": "#88B053", "Flooded vegetation": "#7A87C6", "Crops": "#E49635", "Shrub and scrub": "#DFC35A", "Built": "#C4281B", "Bare": "#A59B8F", "Snow and ice": "#B39FE1"};
        
        // Update year details
        function updateYearDetails() {
            const select = document.getElementById('year-select');
            const idx = parseInt(select.value);
            const data = lulcData[idx];
            
            const detailsHtml = `
                <h2>${data.year} - ${data.dataset}</h2>
                <p><strong>Period:</strong> ${data.period || data.year}</p>
                <p><strong>Total Classified Area:</strong> ${data.total_area_km2.toFixed(2)} km²</p>
                
                <table class="lulc-table">
                    <thead>
                        <tr>
                            <th>Land Cover Class</th>
                            <th>Area (km²)</th>
                            <th>Percentage (%)</th>
                            <th>Visual</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="color-indicator" style="background-color: ${colors['Water']};"></span>Water</td>
                            <td>${data.Water.toFixed(2)}</td>
                            <td>${data['Water_percent'].toFixed(2)}%</td>
                            <td><div style="width: ${data['Water_percent'] * 3}px; height: 20px; background: ${colors['Water']}; border-radius: 4px;"></div></td>
                        </tr>
                        <tr style="background: #f0f8f0;">
                            <td><span class="color-indicator" style="background-color: ${colors['Trees']};"></span><strong>Trees</strong></td>
                            <td><strong>${data.Trees.toFixed(2)}</strong></td>
                            <td><strong>${data['Trees_percent'].toFixed(2)}%</strong></td>
                            <td><div style="width: ${data['Trees_percent'] * 3}px; height: 20px; background: ${colors['Trees']}; border-radius: 4px;"></div></td>
                        </tr>
                        <tr>
                            <td><span class="color-indicator" style="background-color: ${colors['Grass']};"></span>Grass</td>
                            <td>${data.Grass.toFixed(2)}</td>
                            <td>${data['Grass_percent'].toFixed(2)}%</td>
                            <td><div style="width: ${data['Grass_percent'] * 3}px; height: 20px; background: ${colors['Grass']}; border-radius: 4px;"></div></td>
                        </tr>
                        <tr>
                            <td><span class="color-indicator" style="background-color: ${colors['Flooded vegetation']};"></span>Flooded vegetation</td>
                            <td>${data['Flooded vegetation'].toFixed(2)}</td>
                            <td>${data['Flooded vegetation_percent'].toFixed(2)}%</td>
                            <td><div style="width: ${data['Flooded vegetation_percent'] * 3}px; height: 20px; background: ${colors['Flooded vegetation']}; border-radius: 4px;"></div></td>
                        </tr>
                        <tr style="background: #fff8f0;">
                            <td><span class="color-indicator" style="background-color: ${colors['Crops']};"></span><strong>Crops</strong></td>
                            <td><strong>${data.Crops.toFixed(2)}</strong></td>
                            <td><strong>${data['Crops_percent'].toFixed(2)}%</strong></td>
                            <td><div style="width: ${data['Crops_percent'] * 3}px; height: 20px; background: ${colors['Crops']}; border-radius: 4px;"></div></td>
                        </tr>
                        <tr>
                            <td><span class="color-indicator" style="background-color: ${colors['Shrub and scrub']};"></span>Shrub and scrub</td>
                            <td>${data['Shrub and scrub'].toFixed(2)}</td>
                            <td>${data['Shrub and scrub_percent'].toFixed(2)}%</td>
                            <td><div style="width: ${data['Shrub and scrub_percent'] * 3}px; height: 20px; background: ${colors['Shrub and scrub']}; border-radius: 4px;"></div></td>
                        </tr>
                        <tr style="background: #fff0f0;">
                            <td><span class="color-indicator" style="background-color: ${colors['Built']};"></span><strong>Built</strong></td>
                            <td><strong>${data.Built.toFixed(2)}</strong></td>
                            <td><strong>${data['Built_percent'].toFixed(2)}%</strong></td>
                            <td><div style="width: ${data['Built_percent'] * 3}px; height: 20px; background: ${colors['Built']}; border-radius: 4px;"></div></td>
                        </tr>
                        <tr>
                            <td><span class="color-indicator" style="background-color: ${colors['Bare']};"></span>Bare</td>
                            <td>${data.Bare.toFixed(2)}</td>
                            <td>${data['Bare_percent'].toFixed(2)}%</td>
                            <td><div style="width: ${data['Bare_percent'] * 3}px; height: 20px; background: ${colors['Bare']}; border-radius: 4px;"></div></td>
                        </tr>
                        <tr>
                            <td><span class="color-indicator" style="background-color: ${colors['Snow and ice']};"></span>Snow and ice</td>
                            <td>${data['Snow and ice'].toFixed(2)}</td>
                            <td>${data['Snow and ice_percent'].toFixed(2)}%</td>
                            <td><div style="width: ${data['Snow and ice_percent'] * 3}px; height: 20px; background: ${colors['Snow and ice']}; border-radius: 4px;"></div></td>
                        </tr>
                    </tbody>
                </table>
            `;
            
            document.getElementById('year-details').innerHTML = detailsHtml;
        }
        
        // Create charts
        const years = lulcData.map(d => d.year);
        
        // Trends Chart
        new Chart(document.getElementById('trendsChart'), {
            type: 'line',
            data: {
                labels: years,
                datasets: [
                    {
                        label: 'Trees',
                        data: lulcData.map(d => d.Trees),
                        borderColor: colors['Trees'],
                        backgroundColor: colors['Trees'] + '33',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'Built',
                        data: lulcData.map(d => d.Built),
                        borderColor: colors['Built'],
                        backgroundColor: colors['Built'] + '33',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'Crops',
                        data: lulcData.map(d => d.Crops),
                        borderColor: colors['Crops'],
                        backgroundColor: colors['Crops'] + '33',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'Water',
                        data: lulcData.map(d => d.Water),
                        borderColor: colors['Water'],
                        backgroundColor: colors['Water'] + '33',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            font: { size: 14, weight: 'bold' },
                            padding: 15
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + ' km²';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        title: {
                            display: true,
                            text: 'Area (km²)',
                            font: { size: 14, weight: 'bold' }
                        },
                        ticks: {
                            font: { size: 12 }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Year',
                            font: { size: 14, weight: 'bold' }
                        },
                        ticks: {
                            font: { size: 12 }
                        }
                    }
                }
            }
        });
        
        // Built Chart
        new Chart(document.getElementById('builtChart'), {
            type: 'bar',
            data: {
                labels: years,
                datasets: [{
                    label: 'Built Area (km²)',
                    data: lulcData.map(d => d.Built),
                    backgroundColor: colors['Built'],
                    borderColor: '#A02010',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: { size: 14, weight: 'bold' }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'Built Area: ' + context.parsed.y.toFixed(2) + ' km²';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Built Area (km²)',
                            font: { size: 14, weight: 'bold' }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Year',
                            font: { size: 14, weight: 'bold' }
                        }
                    }
                }
            }
        });
        
        // Tree Chart
        new Chart(document.getElementById('forestChart'), {
            type: 'line',
            data: {
                labels: years,
                datasets: [{
                    label: 'Tree Cover (km²)',
                    data: lulcData.map(d => d.Trees),
                    borderColor: colors['Trees'],
                    backgroundColor: colors['Trees'] + '66',
                    borderWidth: 4,
                    tension: 0.4,
                    fill: true,
                    pointRadius: 5,
                    pointHoverRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: { size: 14, weight: 'bold' }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return 'Tree Cover: ' + context.parsed.y.toFixed(2) + ' km²';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        title: {
                            display: true,
                            text: 'Tree Cover (km²)',
                            font: { size: 14, weight: 'bold' }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Year',
                            font: { size: 14, weight: 'bold' }
                        }
                    }
                }
            }
        });
        
        // Initialize with most recent year
        document.getElementById('year-select').value = lulcData.length - 1;
        updateYearDetails();
    </script>
</body>
</html>
